<div class="main-container tools">
    <link rel="stylesheet" href="css/combat-tracker.css">

    <h1>Control de Combate</h1>

    <!-- Main Navigation Tabs -->
    <div class="ct-tabs">
        <button class="ct-tab-btn active" data-tab="templates">Gestión de Plantillas</button>
        <button class="ct-tab-btn" data-tab="encounters">Encuentros</button>
    </div>

    <!-- VIEW 1: TEMPLATES -->
    <div id="view-templates" class="ct-view active">
        <div style="margin-bottom: 16px; display: flex; justify-content: space-between;">
            <p>Define tipos de enemigos reutilizables. Tus plantillas se guardan en la base de datos.</p>
            <button class="ct-btn primary" id="btn-create-template">+ Nueva Plantilla</button>
        </div>

        <div id="templates-list" class="ct-grid">
            <p style="color: #666;">Cargando plantillas...</p>
        </div>
    </div>

    <!-- VIEW 2: ENCOUNTERS -->
    <div id="view-encounters" class="ct-view">
        <div style="margin-bottom: 16px; display: flex; justify-content: space-between;">
            <p>Gestiona tus escenas de combate. Entra a un encuentro para iniciar la acción.</p>
            <button class="ct-btn primary" id="btn-create-encounter">+ Nuevo Encuentro</button>
        </div>

        <div id="encounters-list" class="ct-grid">
            <p style="color: #666;">Cargando encuentros...</p>
        </div>
    </div>
</div>

<!-- MODAL: CREATE/EDIT TEMPLATE -->
<div id="modal-template" class="ct-modal-overlay hidden">
    <div class="ct-modal">
        <h3 id="modal-template-title">Nueva Plantilla</h3>
        <form id="form-template">
            <input type="hidden" id="tpl-id">

            <div class="form-group ct-inline-field">
                <label>Nombre</label>
                <input type="text" id="tpl-name" placeholder="Ej: Matón Brujah">
            </div>

            <div id="tpl-type-container" class="form-group ct-inline-field" style="margin-bottom: 20px;">
            </div>

            <div class="form-group ct-inline-field">
                <label>Tags</label>
                <div id="tpl-tags-container" class="ct-tags-wrap"></div>
            </div>

            <div id="tpl-stats-container"
                style="max-height: 400px; overflow-y: auto; text-align: left; padding: 10px; border: 1px solid #444; background: #222; margin-bottom: 15px;">
            </div>

            <div class="ct-form-group">
                <label>Notas</label>
                <textarea id="tpl-notes" rows="3" placeholder="Información adicional..."></textarea>
            </div>

            <div class="ct-actions">
                <button type="button" class="ct-btn" id="btn-cancel-template">Cancelar</button>
                <button type="submit" class="ct-btn primary">Guardar</button>
            </div>
        </form>
    </div>
</div>

<!-- MODAL: CREATE ENCOUNTER -->
<div id="modal-encounter" class="ct-modal-overlay hidden">
    <div class="ct-modal" style="width: 400px;">
        <h3>Nuevo Encuentro</h3>
        <form id="form-encounter">
            <div class="ct-form-group">
                <label>Nombre del Encuentro</label>
                <input type="text" id="enc-name" placeholder="Ej: Emboscada en el callejón">
            </div>
            <div class="ct-actions">
                <button type="button" class="ct-btn" id="btn-cancel-encounter">Cancelar</button>
                <button type="submit" class="ct-btn primary">Crear</button>
            </div>
        </form>
    </div>
</div>
